{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Waldo Detector - Upload</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
        body, html {
            height: 100%;
        }
        .processed-image {
            width: 1000px;
            height: auto;
            max-width: 100%;
            margin: 20px auto 10px auto;
            display: block;
            border: 3px solid black;
            border-radius: 0.5rem;
        }
        .container-upload {
            max-width: 1000px;
            margin: auto;
            position: relative;
            text-align: center;
        }
  </style>
</head>
<body class="d-flex flex-column justify-content-center align-items-center vh-100 bg-light position-relative">

  <!-- Logo top-left -->
  <a href="/" style="position: fixed; top: 10px; left: 10px; z-index: 9999;">
    <img src="{% static 'logo.png' %}" alt="Home" style="height: 50px; cursor: pointer;" />
  </a>

  <!-- Text top-right -->
  <div class="position-fixed top-0 end-0 m-3">
    <h1 class="fw-bold" style="font-size: 2.5rem; user-select: none; color: black;">
      Where is Waldo?
    </h1>
  </div>

  <!-- Upload form -->
  <div class="container-upload">
    <form method="POST" enctype="multipart/form-data" class="mb-3">
      {% csrf_token %}
      <input type="file" name="image" accept="image/*" class="form-control mb-3" required />
      <button type="submit" class="btn btn-primary w-100">Upload & Detect Waldo</button>
    </form>

    {% if processed_image %}
      <img src="data:image/png;base64,{{ processed_image }}" alt="Processed Waldo Detection" class="processed-image img-fluid" />
    {% endif %}
  </div>

</body>
</html>
